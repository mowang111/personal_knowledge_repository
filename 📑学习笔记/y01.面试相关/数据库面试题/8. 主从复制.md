如果我们的目的在于提升数据库的高并发访问的效率，那么首先考虑的时如何【优化SQL和索引】，这种方式简单有效；其次才是【缓存的策略】，比如Redis将热点数据保存在内存数据中，提升读取的效率；最后才是对数据库采用【主从架构】，进行读写分离

## 主从复制的作用
1. 读写分离，可以通过主从复制的方式来同步数据，然后通过读写分离提高数据库并发处理能力
	+ 面对读多写少的需求，会采用读写分离的方式，可以实现更高并发的访问。同时，我们还能对从服务器进行负载均衡，让不同的读请求按照策略均匀地分发到不同的从服务器，让读取更加顺畅。读取顺畅的另一个原因，就是减少了锁表的影响，比如我们让主库负责写，当主库出现写锁的时候，不会影响从库读取。
2. 数据备份，相当于热备份
3. 具有高可用性。

## 主从复制的原理

Slave会从Master读取binlog进行数据同步

### 三个线程
![image.png](https://raw.githubusercontent.com/mowang111/image-hosting/master/typora_images/20230305200239.png)

二进制日志的转储线程
从库I/O线程
从库SQL线程

#### 复制的三步骤
1. Master将写操作记录到二进制日志（binlog），这些记录叫做二进制日志事件（binarylog events）
2. Slave将Master的bin log events拷贝到它的中继日志（relay log）。
3. Slave重做中继日志中的事件，将改变应用到自己的数据库中。MySQL复制是异步且串行化的，而且重启后从接入点开始复制

问题：延时

## 同步数据一致性问题

### 主从延迟问题

## 如何解决一致性问题
1. 异步复制
2. 半同步复制
3. 组复制
