## 全局流程
![[x86的全局启动流程示意图.png]]
## 从BIOS到GRUB
[[从BIOS到GRUB]]
![[从BIOS到GRUB.png]]
## GRUB如何启动
![[GRUB如何启动.png]]
## vmlinuz文件结构
![[bzImage文件结构示意图.png]]
其中 setup.bin由objcopy命令根据setup.elf生成的，而setup.elf由/arch/x86/boot/目录下的一系列程序源代码文件编译连接生成，其中head.S文件和main.S文件格外重要。

vmlinux.bin文件依赖于linux/arch/x86/boot/compressed/目录下的vmlinux目标

linux/arch/x86/boot/compressed 目录下的 vmlinux 是由该目录下的 head_32.o 或者 head_64.o、cpuflags.o、error.o、kernel.o、misc.o、string.o 、cmdline.o 、early_serial_console.o 等文件以及 piggy.o 链接而成的