# 实验目标
为linux0.11新增内核线程支持，即用户可以通过`pthread_create`在进程中新建内核线程，提高程序的并发度。

用户可以调用的函数接口：
```
int pthread_attr_init(pthread_attr_t *attr);
int pthread_create(pthread_t *thread, const pthread_attr_t *attr, void *(*start_routine) (void *), void *arg); 
void pthread_exit(void *value_ptr);
int pthread_join(pthread_t thread, void **value_ptr);
```
# 实验步骤
书中的步骤
1. 模仿进程PCB，定义线程的基本数据结构TCB
2. 进程创建的同时，将原本的进程作为主线程，将进程调度的事情放到主线程上去做，变成线程调度
3. 实现`pthread_create`，该函数是为了创建新的线程，执行`start_routine`函数，需要给该函数提供对应的用户栈、内核栈以及TCB。
4. 修改进程调度为线程调度，即将基于PCB的调度改为基于TCB的调度，其中包括`schedule`函数中的调度，也包括`sleep_on`,`wake_up`中相应的修改
5. 进程退出时，线程资源的释放

为了防止单次错误过多导致无法调试，需要将上述步骤分解为可实行的实践步骤，保证每一步都单独可调试。



